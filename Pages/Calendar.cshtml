@page "/calendar"
@model dotnet_app.Pages.Calendar

@{
    Layout = null;
}


<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
            <script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.4/index.global.min.js'></script>
            <script>

                document.addEventListener('DOMContentLoaded', function() {
                    var calendarEl = document.getElementById('calendar');
                    var calendar = new FullCalendar.Calendar(calendarEl, {
                        initialView: 'dayGridMonth',
                        events: [
                            {
                                title: 'Event 1',
                                start: '2023-03-10'
                            },
                            {
                                title: 'Event 2',
                                start: '2023-03-15',
                            }
                        ],
                        select: function(start, end) {
                            var eventData = {
                                start: start,
                                end: end
                            };
                            $('#calendar').fullCalendar('renderEvent', eventData, true);

                            $.ajax({
                                url: '/CalendarEvents',
                                method: 'POST',
                                data: eventData,
                                success: function(response) {
                                console.log('Event saved successfully.');
                                },
                                error: function(error) {
                                console.log('Error saving event:', error);
                                }
                            });
                        }
                    });
                    calendar.render();
                });

            </script>
    </head>
    <body>
        <div id="calendar"></div>
    </body>
</html>


